# 02.07. Загрузка ОС - Лебедев Д.С.
### Задание 1
>Пользователь решил сделать мультизагрузку и установил себе на жесткий диск сначала ОС Windows, затем две одинаковых ОС Linux (все ОС в разные разделы). Сколько загрузчиков будет в такой системе? Приведите ответ в свободной форме со своим комментарием.

*Ответ:*  
В самом общем случае, остается один загрузчик последнего установленного linux, например GRUB2. В нём можно выбрать нужную ОС.  
Так же может быть вариант, что при выборе в GRUB2 ОС Windows, он передаст управление загрузчику Windows (что-то типа Windows Boot Manager в UEFI), в таком случае, загрузчиков два.  
Так же есть информация про UEFI, который поддерживает загрузку Linux. В этом случае тоже получается один загрузчик.

### Задание 2
>На лекции мы рассмотрели загрузку ядра и дополнительных модулей. Почему сразу не сделано ядро со всеми модулями? Так бы смогли избавиться от initrd... Приведите ответ в свободной форме со своим комментарием.

*Ответ:*  
Модулей может быть много, они могут быть специфичны и совсем не нужны в стандартном ядре.  
Так же, например, если использовать маленький (служебный) дистрибутив Linux (на флешке и т.д.), логично использовать ядро и только нужные службы/приложения в виде подключаемых модулей в initrd.

## Задание 3*
>Существует ли возможность создать несколько загрузчиков в одной системе? Приведите ответ в свободной форме со своим комментарием.

*Ответ:*  
Существует, при использовании различных разделов для разных загрузчиков. Выбрать загрузчик можно, делая активным нужный раздел.

### Задание 4*
>Существует ли возможность загрузить несколько ядер ОС? Например, ОС Linux является многопользовательской и разные пользователи хотят загрузить разные версии ядра. Приведите ответ в свободной форме со своим комментарием.

*Ответ:*  
GRUB позволяет пользователю выбрать загрузку ядра из нескольких возможных для любого дистрибутива Linux. Нужные параметры просто добавляются в конфигурационный файл.

### Задание 5*
>Существует такой вид виртуализации как контейнеризация: контейнеры создаются на уровне ОС и работают в изолированных пространствах. Вопрос: что произойдет, если в хостовой ОС установлен upstart, а в запущенном контейнере - systemd? Приведите ответ в свободной форме со своим комментарием.

*Ответ:*  
Работа такой связки может быть нестабильна, т.к. запуск контейнера внутри chroot’а несет угрозу для хост-системы: у гостя и хоста отличается лишь содержимое файловой системы, все остальное у них общее. Хост и контейнер будут иметь общую разделяемую память, общее пространство имен и другие элементы IPC. Для отладки, тестирования, компиляции, установки и восстановлении ОС нужна защита от случайного воздействия на ОС хоста изнутри chroot-окружения, иначе возможны проблемы. Одно из решений - использование systemd-nspawn.